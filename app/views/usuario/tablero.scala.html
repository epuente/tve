<link rel="stylesheet" href="@routes.Assets.at("horizontal-timeline/css/reset.css")")> <!-- Resource style -->
<style nonce="@session.get("nonce")">
.row.vdivide [class*='col-']:not(:last-child):after {
  background: #e0e0e0;
  width: 1px;
  content: "";
  display:block;
  position: absolute;
  top:0;
  bottom: 0;
  right: 0;
  
}

.sticky-bottom {
    position: absolute;  
    right: 0;  left: 0;
    bottom: 0;  padding: 1rem;  
    background-color: #efefef;  text-align: center;
}


.btn-circle {
  width: 30px;
  height: 30px;
  text-align: center;
  padding: 6px 0;
  font-size: 12px;
  line-height: 1.428571429;
  border-radius: 15px;
}

.btn-circle.btn-md {
  width: 30px;
  height: 30px;
  padding: 6px 0;
  font-size: 10px;
  line-height: 1.428571429;
  border-radius: 25px;
}

.btn-circle.btn-lg {
  width: 50px;
  height: 50px;
  padding: 10px 16px;
  font-size: 18px;
  line-height: 1.33;
  border-radius: 25px;
}
.btn-circle.btn-xl {
  width: 70px;
  height: 70px;
  padding: 10px 16px;
  font-size: 24px;
  line-height: 1.33;
  border-radius: 35px;
}

.panel_toolbox {
    float: right;
    min-width: 5px !important;
}

.stats .value {
    font-size: 3rem;
    text-align: center; margin-bottom: 17px
}

.stats .title_small {
    font-size: 1.2em;
    text-align: left; margin-bottom: 10px
}

.stats .progress_stats {
    height: 3px; background-color: #dddddd;
    
}





		#wrap{
			vertical-align: middle;
			display: block;
			border: 1px solid #c8c8c8;
			background: #fff;
			width: 500px;
			margin-top: 20px;
			padding: 50px;
			
		}


		#arr{
			display: inline-block;
			position: relative;
			
			padding-right: 15px;
			padding-top: 10px;
			padding-bottom: 10px;
			padding-left: 25px;	
							
			font-size: 24px;
			line-height: 30px;
			
			color: #acacac; /* text color */
			text-shadow: 0 -1px 0 rgba(0,0,0,.49); /* drop shadow */

			z-index: 100;
			
			margin: 15px 5px 15px -10px;
			
			background-color: #fff; /* layer fill content */
			-moz-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
							inset 0 1px 0 #fff; /* inner shadow */
			-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
							inset 0 1px 0 #fff; /* inner shadow */
			box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
						inset 0 1px 0 #fff; /* inner shadow */
			border: 1px solid #cfcfcf; /* inner stroke */
			border-right: none;
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOWU5ZTkiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2U5ZTllOSIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZjZmNmYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
		}
		#arr:active{
			color: #4789cb;
			text-shadow: 0 -1px 0 rgba(255,255,255,.8); /* drop shadow */
			background-color: #f1f1f1; /* layer fill content */
			-moz-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			border: 1px solid #d1d1d1; /* inner stroke */
			border-right: none;
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlY2VjZWMiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2VjZWNlYyIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Y0ZjRmNCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			
		}

		#arr:after{
		
			content: '';
			position: absolute;
			top: 6.85px;
			right:-18.2px;
			display: inline-block;
			
			width: 35.355px;
			height: 35.355px;
			
			border-top: 1px solid #cfcfcf; /* inner stroke */
			border-right: 1px solid #cfcfcf; /* inner stroke */
			border-bottom: none;
			border-left: none;
			-webkit-transform: rotate(45deg);
			-moz-transform: rotate(45deg);
			z-index: -1;
			
			background-color: #fff; /* layer fill content */
			-moz-box-shadow: inset 0 1px 0 #fff; /* inner shadow */
			-webkit-box-shadow: inset 0 1px 0 #fff; /* inner shadow */
			box-shadow: inset 0 1px 0 #fff; /* inner shadow */
	
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOWU5ZTkiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2U5ZTllOSIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZjZmNmYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */

		}	
		#arr:active:after{
			background-color: #f7f7f7; /* layer fill content */
			-moz-box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			-webkit-box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			border-top: 1px solid #72b2f8; /* inner stroke */
			border-right: 1px solid #72b2f8; /* inner stroke */
			
			
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlY2VjZWMiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2VjZWNlYyIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Y0ZjRmNCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			
		}
		
		#arr2{
			display: inline-block;
			position: relative;
			
			padding-right: 15px;
			padding-top: 10px;
			padding-bottom: 10px;
			padding-left: 35px;	
							
			font-size: 24px;
			line-height: 30px;
			
			color: #acacac; /* text color */
			text-shadow: 0 -1px 0 rgba(0,0,0,.49); /* drop shadow */

			z-index: 50;
			
			margin: 15px 5px 15px -10px;
			
			background-color: #fff; /* layer fill content */
			-moz-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
							inset 0 1px 0 #fff; /* inner shadow */
			-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
							inset 0 1px 0 #fff; /* inner shadow */
			box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
						inset 0 1px 0 #fff; /* inner shadow */
			border: 1px solid #cfcfcf; /* inner stroke */
			border-right: none;
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOWU5ZTkiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2U5ZTllOSIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZjZmNmYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
		}
		#arr2:active{
			color: #4789cb;
			text-shadow: 0 -1px 0 rgba(255,255,255,.8); /* drop shadow */
			background-color: #f1f1f1; /* layer fill content */
			-moz-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			box-shadow: 0 1px 2px rgba(0,0,0,.25) /* drop shadow */, inset 0 1px 3px rgba(0,0,0,.1); /* inner shadow */
			border: 1px solid #d1d1d1; /* inner stroke */
			border-right: none;
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlY2VjZWMiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2VjZWNlYyIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Y0ZjRmNCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			
		}
		#arr2:after{
		
			content: '';
			position: absolute;
			top: 6.85px;
			right:-18.2px;
			display: inline-block;
			
			width: 35.355px;
			height: 35.355px;
			
			border-top: 1px solid #3281b2; /* inner stroke */
			border-right: 1px solid #3281b2; /* inner stroke */
			border-bottom: none;
			border-left: none;
			-webkit-transform: rotate(45deg);
			-moz-transform: rotate(45deg);
			z-index: -1;
			
			background-color: #fff; /* layer fill content */
			-moz-box-shadow: inset 0 1px 0 #fff; /* inner shadow */
			-webkit-box-shadow: inset 0 1px 0 #fff; /* inner shadow */
			box-shadow: inset 0 1px 0 #fff; /* inner shadow */
	
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOWU5ZTkiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2U5ZTllOSIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZjZmNmYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #e9e9e9 0%, #e9e9e9 15.04%, #fcfcfc 100%); /* gradient fill */

		}	
		#arr2:active:after{
			background-color: #f7f7f7; /* layer fill content */
			-moz-box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			-webkit-box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			box-shadow: inset 0 1px 3px rgba(0,0,0,.05); /* inner shadow */
			border-top: 1px solid #72b2f8; /* inner stroke */
			border-right: 1px solid #72b2f8; /* inner stroke */
			
			
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlY2VjZWMiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjE1JSIgc3RvcC1jb2xvcj0iI2VjZWNlYyIgc3RvcC1vcGFjaXR5PSIxIi8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Y0ZjRmNCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgIDwvbGluZWFyR3JhZGllbnQ+Cgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2hhdDApIiAvPgo8L3N2Zz4=); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #ececec 0%, #ececec 15.04%, #f4f4f4 100%); /* gradient fill */
			
		}
		#arrblu{
			display: inline-block;
			position: relative;
			
			padding-right: 10px;
			padding-top: 10px;
			padding-bottom: 10px;
			padding-left: 35px;	
			
			margin-left: -10px;
				
			font-size: 24px;
			line-height: 30px;
			
			color: #fff; /* text color */
			text-shadow: 0 -1px 0 rgba(0,0,0,.23); /* drop shadow */

			z-index: 3;
			
			
			background-color: #fff; /* layer fill content */
			-moz-box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			-webkit-box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
				
			border: 1px solid #3281b2; /* inner stroke */
			border-right: none;
			
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM1MDk5ZWIiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3OWI5ZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogICA8L2xpbmVhckdyYWRpZW50PgoKPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNoYXQwKSIgLz4KPC9zdmc+); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */

		}
		#arrblu:hover{

			background-color: #72b2f8; /* layer fill content */
			-moz-box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			-webkit-box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			box-shadow:
				0 1px 2px rgba(0,0,0,.25) /* drop shadow */,
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			border: 1px solid #3a89bd; /* inner stroke */
			border-right: none;
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM1ZWE1ZjQiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM4YWM0ZmQiIHN0b3Atb3BhY2l0eT0iMSIvPgogICA8L2xpbmVhckdyYWRpZW50PgoKPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNoYXQwKSIgLz4KPC9zdmc+); /* gradient fill */
			background-image: -moz-linear-gradient(90deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: -o-linear-gradient(90deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(90deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: linear-gradient(90deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			
		}
		#arrblu:after{
		
			content: '';
			position: absolute;
			top: 6.8228px;
			right:-18.4px;
			display: inline-block;
			
			width: 35.355px;
			height: 35.355px;
			
			border-top: 1px solid #3281b2; /* inner stroke */
			border-right: 1px solid #3281b2; /* inner stroke */
			border-bottom: 0px;
			border-left: 0px;
			-moz-box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			-webkit-box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			-moz-transform: rotate(45deg);
			-webkit-transform: rotate(45deg);
			z-index: -1;
			
			background-color: #67abf3; /* layer fill content */

			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM1MDk5ZWIiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3OWI5ZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogICA8L2xpbmVhckdyYWRpZW50PgoKPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNoYXQwKSIgLz4KPC9zdmc+); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #5099eb 0%, #79b9f9 100%); /* gradient fill */

		}	
		#arrblu:hover:after{
			background-color: #72b2f8; /* layer fill content */
			-moz-box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			-webkit-box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			box-shadow:
				inset 0 1px 0 rgba(164,208,251,.41) /* inner shadow */;
			border-top: 1px solid #3a89bd; /* inner stroke */
			border-right: 1px solid #3a89bd; /* inner stroke */
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGxpbmVhckdyYWRpZW50IGlkPSJoYXQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM1ZWE1ZjQiIHN0b3Atb3BhY2l0eT0iMSIvPgo8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM4YWM0ZmQiIHN0b3Atb3BhY2l0eT0iMSIvPgogICA8L2xpbmVhckdyYWRpZW50PgoKPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNoYXQwKSIgLz4KPC9zdmc+); /* gradient fill */
			background-image: -moz-linear-gradient(135deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: -o-linear-gradient(135deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: -webkit-linear-gradient(135deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
			background-image: linear-gradient(135deg, #5ea5f4 0%, #8ac4fd 100%); /* gradient fill */
		}

</style>


@main{

            @ventanasModales()
<!--             
            <div class="row">
            	<div class="col-sm-3"><div id="arr">SDH</div></div>
            	<div class="col-sm-3"><div id="arr">Floor 4</div></div>
            	<div class="col-sm-3"><div id="arr">Zone 3</div></div>
            	<div class="col-sm-3"><div id="arr">Zone 3</div></div>
            </div>
            
            
			
			
			<div class="row">
				<div class="col-md-12">
					<div class="container" style="width: 100%; max-width: 100%; height:150px;  margin: auto;">
						<ul class="breadcrumbs-two" >
						    <li class="bread1">
						    	<a><span>ALGO</span></a>
						    </li>
						    <li class="bread2">
						    	<a>
						    		<span>
						    				<table style="">
						    					<tr>
						    						<td style="vertical-align: middle; padding-right: 5px"><div style="font-size: 38px; font-weight: bold; line-height: 1.65857"><div id="asignadosBis">&nbsp;</div></div></td>
						    						<td style="vertical-align: middle;">Asignados sin atender</td>
						    					</tr>
						    				</table>
						    		</span>
						    	</a>
						    </li>
						    <li class="bread3"><a><span>Workshops and <strong>Collaborations</strong></span></a></li>
						    <li class="bread4"><a><span><strong>Execute</strong> and <strong>Implement</strong></span></a></li>
						    <li class="bread5"><a><span><strong>Results</strong> and <strong>Adoption</strong></span></a></li>
						</ul>
					</div>		
				</div>
			
			</div>


        -->




            
            <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 stats">
                        <div class="x_panel x_panel tile fixed_height_320 overflow_hidden">
                          <div class="x_content">
	                          <div class="row top_tiles">
	                          	<div class="">
	                          		<div style="font-size: 38px; font-weight: bold; line-height: 1.65857" id="oficioAll"></div>
	                          		<h3 style="color: #BAB8B8;">Folios en los que produzco</h3>                          		
	                          	</div>
	                          	<div class="clearfix"></div>
	                            <span class="chart" id="easycP1" style="text-align: center;">
	                                 <span class="percent"></span>
	                                 <canvas></canvas>
	                            </span> 
	                          </div>
                          </div>
	                        <div class="sticky-bottom">
	                              <div class="row vdivide">
	                                <div class="col-sm-6 text-center small">
	                                   Completos: <div id="foliosCompletos" class="mismaLinea"></div>
	                                </div>
	                                <div class="col-sm-6 text-center small">
	                                    Incompletos: <div id="foliosIncompletos" class="mismaLinea"></div>                     
	                                </div>
	                              </div>
	                        </div>                          
                        </div>                
                </div>
                <div class="col-sm-12 col-md-8 col-lg-8"  >
                    <div class="x_panel ">
                        <div class="x_content">
							<div class="row top_tiles">
				              <div class="animated flipInY col-lg-6 col-md-6 col-sm-12 col-xs-12">
				                <div class="tile-stats">
				                  <div class="icon"><i class="far fa-caret-square-right fa-2x"></i></div>
				                  <div class="count"><div id="asignadosBis">&nbsp;</div></div>
				                  <h3>Asignados sin atender</h3>
				                  <p>Folios que me asignaron, pero aún no he solicitado recursos.</p>
				                </div>
				              </div>
				              <div class="animated flipInY col-lg-6 col-md-6 col-sm-12 col-xs-12">
				                <div class="tile-stats">
				                  <div class="icon"><i class="fas fa-exclamation fa-2x"></i></div>
				                  <div class="count"><div id="solicitudesBis">&nbsp;</div></div>
				                  <h3>Solicitudes pendientes</h3>
				                  <p>Solicitudes de recursos que aún no me han autorizado.</p>
				                </div>
				              </div>
				            </div>
				            <div class="row top_tiles">
				              <div class="animated flipInY col-lg-6 col-md-6 col-sm-12 col-xs-12">
				                <div class="tile-stats">
				                  <div class="icon"><i class="fas fa-check fa-2x"></i></div>
				                  <div class="count"><div id="autorizadosBis">&nbsp;</div></div>
				                  <h3>Autorizadas</h3>
				                  <p>Mis solicitudes autorizadas.</p>
				                </div>
				              </div>
				              <div class="animated flipInY col-lg-6 col-md-6 col-sm-12 col-xs-12">
				                <div class="tile-stats">
				                  <div class="icon"><i class="fas fa-star fa-2x"></i></div>
				                  <div class="count"><div id="terminadosBis">&nbsp;</div></div>
				                  <h3>Terminados</h3>
				                  <p>Eventos autorizados que ya terminé.</p>
				                </div>
				              </div>
				            </div>     
                              
                        </div>
                    </div>
                </div>                
            </div>


			<div class="row">
				<div id="videoteca" class="col-sm-12 col-md-4 col-lg-4 stats">
					<div class="x_panel x_panel tile fixed_height_320 overflow_hidden">
						<div class="">
							<div class="row">
								<div class="col-sm-6 col-md-6 col-lg-6">
									<div class="panel panel-default">
										<div class="panel-body">
											Basic panel example
										</div>
									</div>
								</div>
								<div class="col-sm-6 col-md-6 col-lg-6">
									<div class="panel panel-default" style="border-radius: 16px; min-width: 100px; min-height:100px; max-width:100px; max-height:100px;">
										<div class="panel-body" style="border-radius: 16px; min-width: 100px; min-height:100px; max-width:100px; max-height:100px;">
											Basic panel example
										</div>
									</div>
								</div>

							</div>
						</div>
						<div>
							<div style="font-size: 38px; font-weight: bold; line-height: 1.65857" id="catVideoteca">0</div>
							<h3 style="color: #BAB8B8;">Trabajos por validar en el catálogo de videoteca</h3>
						</div>
					</div>
				</div>
			</div>






            <div class="row" id="divPanelFechasCaducadas" style="display: none;" >
                <div class="col-sm-12 col-md-12 col-lg-12"  >
                    <div class="x_panel">
                    <div class="x_title">
                            <h2>Fechas caducadas</h2>
                            <ul class="nav navbar-right panel_toolbox">
                                 <li><a class="collapse-link"><i class="fa fa-chevron-up" name="iconClosePanel"></i></a>
                                 </li>
                                 <li><a class="close-link"><i class="fas fa-times"></i></a>
                                 </li>
                            </ul>
                            <div class="clearfix"></div>
                          </div>

                        <div class="x_content">
                          <div style="margin-bottom: 17px">
                              <h1 class="name_title"></h1>
                              <div id="fechasCaducadas"></div>
                              
                              <div class="center-block">
                                <button class="btn btn-success btn-lg" onclick="javascript:terminar(0,'grupo')"><i class="far fa-star"></i> Marcar todos como terminados</button>
                                
                              </div>
                              
                              
                              <div class="divider"></div>
                              <div id="divFeCad">
					            <table class='table table-bordered table-striped jambo_table bulk_action order-column dataTable no-footer' id='tablaCaducos'>
					               <thead>
					                   <tr>
					                        <th>Folio</th>
							                <th>Descripción</th>
							                <th>Fase</th>           
							                <th>Fecha</th>
							                <th>Desde</th>
							                <th>Hasta</th>
							                <th></th>
					                   </tr>        
					              </thead>
					              <tbody></tbody>
					              </table>
                              </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
	      
	      

	      
	      
            <div class="row" id="divPanelProximasFechas"  >
                <div class="col-sm-12 col-md-12 col-lg-12"  >
                    <div class="x_panel">
                    	<div class="x_title">
                            <h2>Próximas fechas</h2>
                            <ul class="nav navbar-right panel_toolbox">
                              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                            </ul>
                            <div class="clearfix"></div>
                          </div>

                        <div class="x_content">
                          <div style="margin-bottom: 17px">
                              <h1 class="name_title"></h1>
                              
						        <div class="cd-horizontal-timeline">
						            <div class="timeline">
						                <div class="events-wrapper">
						                    <div class="events">
						                        <ol id="htlEventos">                           
						                                                        
						                        </ol>
						        
						                        <span class="filling-line" aria-hidden="true"></span>
						                    </div> <!-- .events -->
						                </div> <!-- .events-wrapper -->
						                    
						                <ul class="cd-timeline-navigation">
						                    <li><a href="#0" class="prev inactive">Prev</a></li>
						                    <li><a href="#0" class="next">Next</a></li>
						                </ul> <!-- .cd-timeline-navigation -->
						            </div> <!-- .timeline -->
						        
						            <div class="events-content">
						            </div>


       							</div>

                          </div>
                        </div>
                    </div>
                </div>
            </div>
            

          	      
	      
	      
	      
	      
}

<script type="text/javascript">





  $(function() {
	  $(".progress-bar").progressbar();
	  moment.locale('es');
      $.notifyDefaults({
			type: 'success',
			newest_on_top: true,
			z_index: 999000
	  });	  
	  actualiza();
      $("#elBody").fadeIn(500);
  });
  
  
  function actualiza(){
	    $.ajax({
	        url: '/ajaxTablero',
	        method: 'GET',
	        dataType: "json"
	    }).success(function(data){
	        console.dir(data)
	    	var auxFeCad="";

	    	console.log(data)
	        $("#oficioAll").html( data.oficioAll  );
	    	$("#asignados, #asignadosBis ").html( data.soloAsignados  );
	    	$("#solicitudes, #solicitudesBis").html( data.solicitudes  );
	    	$("#autorizados, #autorizadosBis").html( data.autorizados  );
	    	$("#terminados, #terminadosBis").html( data.terminados  );
	    	$("#foliosCompletos").html( data.folioCompletos);
	    	$("#foliosIncompletos").html( data.folioIncompletos);
	    	console.log("T A M ",data.eventos.length)
	    	$("#divPanelProximasFechas").toggle(data.eventos.length>0);
	    	$("#htlEventos").html("");
	    	$.each(data.eventos, function(i,v){
	    			if ( moment(v).isSameOrAfter( moment(), 'day' )  ){
		    			if ($("#htlEventos li").length>0){
		    				$("#htlEventos").append("<li><a href='#0' data-date='"+moment(v,"YYYY-MM-DD").format("DD/MM/YYYY")+"'>"+moment(v,"YYYY-MM-DD").format("MMM D")+"</a></li>");
		    			}else {
		    				console.log("NUEVO")
		    				 var li = $('<li/>')
		    		            .appendTo('#htlEventos');
	
		    		        $('<a />')
		    		            .text(moment(v,"YYYY-MM-DD").format("MMM D"))
		    		            .attr('href', '#0')
		    		            .attr('class','non-selected')
		    		            .attr("data-date",moment(v,"YYYY-MM-DD").format("DD/MM/YYYY"))
		    		            .appendTo(li);
		    			}
		    			console.log("evento agregado:", moment(v,"YYYY-MM-DD").format("DD/MM/YYYY"))
	    			}
	    		 
	    	});
	    	
	    	if ($("#htlEventos li").length>0){	    	
		    	initTimeline($('.cd-horizontal-timeline'));
		 	   //Seleccionar la primer fecha en el timeline
			    $("#htlEventos li a:first").addClass("selected").click();
	    	 } else {
	    		 $("#divPanelProximasFechas").find("h1.name_title").html("No hay servicios agendados");
	    	 }

	    	$("#divPanelFechasCaducadas").toggle(data.fechasCaducadas.length >0);
	    	if (data.fechasCaducadas.length >0){	    	
		    	$("#fechasCaducadas").html("<h5>Se encontraron "+data.fechasCaducadas.length+" fechas atrasadas que no se han terminado</h5>");
		    	auxFeCad +="<table class='table table-bordered table-striped jambo_table bulk_action order-column dataTable no-footer' id='tablaCaducos'>";
		    	auxFeCad += "  <thead>";
		        auxFeCad += "  <tr>";
	            auxFeCad += "    <th>Folio</th>";
	            auxFeCad += "    <th>Descripción</th>";
	            auxFeCad += "    <th>Fase</th>";                
	            auxFeCad += "    <th>Fecha</th>";
	            auxFeCad += "    <th>Desde</th>";
	            auxFeCad += "    <th>Hasta</th>";
	            auxFeCad += "    <th></th>";
	            auxFeCad += "  </tr>";            
	            auxFeCad += "  </thead>";
	            auxFeCad += "  <tbody>";
		    	$.each(data.fechasCaducadas, function(i, v){
		    		auxFeCad += "<tr id='fc-"+v.id+"'>";
		    		auxFeCad += "  <td>"+v.folioproductorasignado.folio.numfolio+"</td>";
		    		auxFeCad += "  <td>"+v.folioproductorasignado.folio.oficio.descripcion+"</td>";
		    		auxFeCad += "  <td>"+v.fase.descripcion+"</td>";	    		
		    		auxFeCad += "  <td>"+moment(v.inicio,"YYYY-MM-DDTHH:mm:ss.SSSSZ").format("DD/MM/YYYY")+"</td>";
		    		auxFeCad += "  <td>"+moment(v.inicio,"YYYY-MM-DDTHH:mm:ss.SSSSZ").format("HH:mm")+"</td>";
		    		auxFeCad += "  <td>"+moment(v.fin,"YYYY-MM-DDTHH:mm:ss.SSSSZ").format("HH:mm")+"</td>";
		    		auxFeCad += "  <td>";
		    		auxFeCad += "       <a href='javascript:terminar("+v.id+",\"individual\")' style='padding-bottom: 5px; cursor: pointer; font-weight: bold;'><i class='far fa-star'></i></a>";
		    		auxFeCad += "       <a href='javascript:cancelarEvento("+v.id+")' style='padding-bottom: 5px; cursor: pointer; font-weight: bold;'><i class='fas fa-ban'></i></a>";
		    		auxFeCad += "  </td>";
		    		auxFeCad += "</tr>";
		    	});
	            auxFeCad += "  </tbody>";
		    	auxFeCad +="</table>";
	            $("#divFeCad").html(  auxFeCad    );
	    	}
	    	
	    	$('.chart').data('easyPieChart').update((data.folioCompletos *100)/data.oficioAll);
	    }).error(function(xhr, status, error) {
	          alert("error rn ajax -  "+ xhr.responseText );
	        });
  }
  

  function terminar(eventoId, opcion){
	  if (opcion=="individual"){
		  var conf = confirm("¿?Dar por terminado el servicio de "+$("#tablaCaducos #fc-"+eventoId+" td:eq(2)").text()+" del día "+
				  $("#tablaCaducos #fc-"+eventoId+" td:eq(3)").text()+
				  " de las "+$("#tablaCaducos #fc-"+eventoId+" td:eq(4)").text()+
				  " a las "+$("#tablaCaducos #fc-"+eventoId+" td:eq(5)").text()+"?");
		  if (conf){
              $.ajax({
                  url: '/ajaxTableroTerminarEvento',
                  method: 'POST',
                  data: JSON.stringify( {eventoId: eventoId}),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json"
              }).success(function(data){            
                  $("#myModalDetalleContenido").html("<h3>Procesando "+(++contador)+" de "+totalCaducadas+"</h3>");  
                  actualiza();
              })
	      }	  
	  }
	  
	  //Se procede con todos
      if (opcion=="grupo"){
    	  
    	  $("#myModalDetalle").modal('show'); 
    	  $("#myModalDetalle .modal-header h3").html("Indicando eventos terminados");
    	  
    	  var defferredFunctions = [];
    	  
    	  var contador=0;
    	  var totalCaducadas = $("#tablaCaducos tbody tr").length;
    	  
    	  $("#tablaCaducos tbody tr").each(function(){
    		  
    		  var id = $(this).prop("id").substring(3);
    		  console.log( id )
    		  
    		  defferredFunctions.push(
    				  $.ajax({
    	                    url: '/ajaxTableroTerminarEvento',
    	                    method: 'POST',
    	                    data: JSON.stringify( {eventoId: id}),
    	                    contentType: "application/json; charset=utf-8",
    	                    dataType: "json"
    	                }).success(function(data){            
    	                	$("#myModalDetalleContenido").html("<h3>Procesando "+(++contador)+" de "+totalCaducadas+"</h3>");    	                        
    	                })
    		  );
    	  });
          $.when.apply($,defferredFunctions).done( function() { 
              console.log("/////////////////////////////////////////////");
              console.log(arguments);
              actualiza();
              $("#myModalDetalle").modal('hide');
            });        	  
      }
  }



  
  function cancelarEvento(servicioId){
	// Generalas opciones para motivo de cancelación  
	  var inputOptionsPromise = new Promise(function(resolve) {
			  resolve({
				  @for(m <-models.MotivoCancelacion.find.all()){
					  @m.id : "@m.descripcion",
				  }
			  });
		})	  
		swal({
			  type: 'question',
		      title: '¿Motivo de cancelación?',
		      input: 'select',
		      inputOptions: inputOptionsPromise,
		      inputPlaceholder: 'Seleccione motivo',
		      showCancelButton: true,
		      inputValidator: function(value) {
		        return new Promise(function(resolve, reject) {
		          if (value != '') {
		            resolve();
		          } else {
		            reject('Seleccione un motivo')
		          }
		        }).catch(swal.noop);
		      }
		    }).then(function(result) {
		   	  $cancela =  LlamadaAjaxCancelaEvento(servicioId, result); 
		  	  $.when($cancela).done(function(datac){
		  		  console.dir(datac)
		  		  if (datac.cancelado){
		  			$.notify("Se canceló el evento");
		  			  actualiza();
		  		  } else {
                      $.notify(
                              "No se pudo cancelar el evento"
                          ,{
                          	type:"danger"
                          }); 
		  		  }
		  	  });
		    })	  
	}   
  
  
  
  

  
  
</script>




    <script src="@routes.Assets.at("gentelella/vendors/datatables.net/js/jquery.dataTables.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-buttons/js/dataTables.buttons.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-buttons/js/buttons.flash.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-buttons/js/buttons.html5.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-buttons/js/buttons.print.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-responsive/js/dataTables.responsive.min.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js")"></script>
    <script src="@routes.Assets.at("gentelella/vendors/datatables.net-scroller/js/dataTables.scroller.min.js")"></script>
    
    <script src="@routes.Assets.at("mark.js/datatables.mark.min.js")"></script>
    <script src="@routes.Assets.at("mark.js/jquery.mark.min.js")"></script>      


    <!-- easy-pie-chart -->
    
        <script src="@routes.Assets.at("gentelella/vendors/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js")"></script>
    
    <script src="@routes.Assets.at("lib/moment/min/moment.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("lib/moment/locale/es.js")" type="text/javascript"></script>


<script src="@routes.Assets.at("horizontal-timeline/js/main.js")"></script> <!-- Resource jQuery -->
<script src="@routes.Assets.at("horizontal-timeline/js/modernizr.js")"></script> <!-- Modernizr -->


<script src="@routes.Assets.at("bootstrap-notify/bootstrap-notify.min.js")"></script>
	<link href="@routes.Assets.at("stylesheets/fa-personalizados.css")" rel="stylesheet">
	
	
		<link href="@routes.Assets.at("stylesheets/stacked.css")" rel="stylesheet">
	<script src="@routes.Assets.at("javascripts/agendaAjax.js")"></script>
        
